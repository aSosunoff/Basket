@model IEnumerable<Model.AGRO_ORDER>
@{
    ViewBag.Title = "OrderDetails";
}

<h2>Заказанные товары</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(e => e.NAME)
        </th>
        <th>
            @Html.DisplayNameFor(e => e.QANTITY)
        </th>
        <th>
            @Html.DisplayNameFor(e => e.PRICE_ONE)
        </th>
        <th>
            @Html.DisplayNameFor(e => e.AGRO_CONTRACT.DATE_START)
        </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.NAME)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.QANTITY)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PRICE_ONE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AGRO_CONTRACT.DATE_START)
            </td>
        </tr>
    }
    <tr>
        <td>Итого:</td>
        <td></td>
        <td>@Model.Sum(e => e.PRICE_ONE * e.QANTITY)</td>
        <td></td>
    </tr>
</table>